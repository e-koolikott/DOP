<md-dialog aria-label="Mango (Fruit)">
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h2 data-ng-bind="title"></h2>
      <span data-flex></span>
      <md-button class="md-icon-button" data-ng-click="cancel()">
        <md-icon aria-label="Close dialog">close</md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content>
    <div class="md-dialog-content">
      <md-progress-linear data-ng-if="loading"></md-progress-linear>
      <md-input-container
        data-ng-if="!loading && reasons"
        data-ng-hide="hideReasons"
        class="md-block"
        data-ng-class="{ 'md-input-invalid': errors }"
        >
        <div data-layout="column" data-layout-gt-sm="row">
          <md-checkbox
            data-ng-repeat="reason in reasons"
            name="{{ reason.key }}"
            aria-label="{{ reason.key | translate }}"
            data-ng-model="reason.checked"
            >
            <div data-translate="{{ reason.key }}" class="ellipsis"></div>
          </md-checkbox>
        </div>
        <div data-ng-messages="errors" data-md-auto-hide="false">
          <div
            data-ng-message="reasonRequired"
            data-translate="MESSAGE_ERROR_IMPROPER_REPORT_REASON_REQUIRED"
          ></div>
        </div>
      </md-input-container>
      <md-input-container class="md-block">
        <label data-translate="IMPROPER_REPORT_DESCRIPTION"></label>
        <textarea
          data-ng-model="data.reportingText"
          rows="1"
          maxlength="255"
          data-md-select-on-focus
        ></textarea>
        <div class="hint" data-ng-bind="characters.used+'/'+characters.remaining"></div>
      </md-input-container>
    </div>
  </md-dialog-content>
  <md-dialog-actions data-layout="row">
    <md-button
      data-translate="BUTTON_CANCEL"
      aria-label="{{ 'BUTTON_CANCEL' | translate }}"
      data-ng-click="cancel()"
    ></md-button>
    <md-button
      class="md-primary"
      data-translate="BUTTON_NOTIFY"
      aria-label="{{ 'BUTTON_NOTIFY' | translate }}"
      data-ng-click="sendReport()"
      data-ng-disabled="!submitEnabled"
    ></md-button>
  </md-dialog-actions>
</md-dialog>